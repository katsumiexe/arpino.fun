
var Cd=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21];
var Rt=[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,105];
var cd_cnt=[];
var Tmp_X=[];
var Tmp_Y=[];
var Tmp=[0,0,0,0,0,0,0];


var Bx=[82,79,76,73,70,67,64,61,58,55,52,49,46,43,46,49,52,55,58,61,64,67,70,73,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,127,130,133,136,139,142,145,148,151,154,157,160,163,166,169,172,175,178,181,184,187,190,193,196,199,202,205,208,211,214,211,208,205,202,199,196,193,190,187,184,181,178,175,172,169,166,163,160,157,154,151,148,145,142,139,136,133,130,127,124,121,118,115,112,109,106,103,100,97,94,91,88,85];
var By=[34,36,38,40,42,44,46,48,50,53,56,59,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32];

var cd_x=[
	[100,100,103,106,109,112,115,118,121,124,127,130,133,136,139,142,145,148,151,154,157,160,163,166,169,172,175,178,181,184,187,190,193,196,199,202,205,208,211,214,217,220,223,226,229,232,235,238,241,244,247,250,253,256,259,262,265,268,271,274,277,280,283,286,289,292,295,298,295,292,289,286,283,280,277,274,271,268,265,262,259,256,253,250,247,244,241,238,235,232,229,226,223,220,217,214,211,208,205,202,199,196,193,190,187,184,181,178,175,172,169,166,163,160,157,154,151,148,145,142,139,136,133,130,127,124,121,118,115,112,109,106,103,100],
	[100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,256,260,264,268,272,276,280,284,288,292,296,300,296,292,288,284,280,276,272,268,264,260,256,252,248,244,240,236,232,228,224,220,216,212,208,204,200,196,192,188,184,180,176,172,168,164,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104],
	[100,105,110,115,120,125,130,135,140,145,150,155,160,165,170,175,180,185,190,195,200,205,210,215,220,225,230,235,240,245,250,255,260,265,270,275,280,285,290,295,300,295,290,285,280,275,270,265,260,255,250,245,240,235,230,225,220,215,210,205,200,195,190,185,180,175,170,165,160,155,150,145,140,135,130,125,120,115,110,105],
	[150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,248,246,244,242,240,238,236,234,232,230,228,226,224,222,220,218,216,214,212,210,208,206,204,202,200,198,196,194,192,190,188,186,184,182,180,178,176,174,172,170,168,166,164,162,160,158,156,154,152],
	[150,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234,237,240,243,246,249,252,249,246,243,240,237,234,231,228,225,222,219,216,213,210,207,204,201,198,195,192,189,186,183,180,177,174,171,168,165,162,159,156,153],
	[100,103,106,109,112,115,118,121,124,127,130,133,136,139,142,145,148,151,154,157,160,163,166,169,172,175,178,181,184,187,190,193,196,199,196,193,190,187,184,181,178,175,172,169,166,163,160,157,154,151,148,145,142,139,136,133,130,127,124,121,118,115,112,109,106,103],
	[100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,196,192,188,184,180,176,172,168,164,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104]
]

var cd_y=[
	[197,194,191,188,185,182,179,176,173,170,167,164,161,158,155,152,149,146,143,140,137,134,131,128,125,122,119,116,113,110,107,104,101,98,95,92,89,86,83,80,77,74,71,68,65,62,59,56,53,50,53,56,59,62,65,68,71,74,77,80,83,86,89,92,95,98,101,104,107,110,113,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,176,179,182,185,188,191,194,197,200,203,206,209,212,215,218,221,224,227,230,233,236,239,242,245,248,251,248,245,242,239,236,233,230,227,224,221,218,215,212,209,206,203,200],
	[150,146,142,138,134,130,126,122,118,114,110,106,102,98,94,90,86,82,78,74,70,66,62,58,54,50,54,58,62,66,70,74,78,82,86,90,94,98,102,106,110,114,118,122,126,130,134,138,142,146,150,154,158,162,166,170,174,178,182,186,190,194,198,202,206,210,214,218,222,226,230,234,238,242,246,250,246,242,238,234,230,226,222,218,214,210,206,202,198,194,190,186,182,178,174,170,166,162,158,154],
	[150,145,140,135,130,125,120,115,110,105,100,95,90,85,80,75,70,65,60,55,50,55,60,65,70,75,80,85,90,95,100,105,110,115,120,125,130,135,140,145,150,155,160,165,170,175,180,185,190,195,200,205,210,215,220,225,230,235,240,245,250,245,240,235,230,225,220,215,210,205,200,195,190,185,180,175,170,165,160,155],
	[150,148,146,144,142,140,138,136,134,132,130,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,198,196,194,192,190,188,186,184,182,180,178,176,174,172,170,168,166,164,162,160,158,156,154,152],
	[151,148,145,142,139,136,133,130,127,124,121,118,115,112,109,106,103,100,103,106,109,112,115,118,121,124,127,130,133,136,139,142,145,148,151,154,157,160,163,166,169,172,175,178,181,184,187,190,193,196,199,202,199,196,193,190,187,184,181,178,175,172,169,166,163,160,157,154],
	[150,148,146,144,142,140,138,136,134,132,130,128,126,124,122,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,166,186,184,182,180,178,176,174,172,170,168,164,162,160,158,156,154,152],
	[156,153,150,147,144,141,138,135,132,129,126,123,120,123,126,129,132,135,138,141,144,147,150,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,192,189,186,183,180,177,174,171,168,165,162,159]
]


$(function(){ 
	for(i=0;i<50;i++){
		var No1		= Math.floor(Math.random() * 22);
		var No2		= Math.floor(Math.random() * 22);
		var Tmp_s	=Cd[No1];
		 Cd[No1]	=Cd[No2];
		 Cd[No2]	=Tmp_s;
	}
	cd_cnt[0]=cd_y[0].length;
	cd_cnt[1]=cd_y[1].length;
	cd_cnt[2]=cd_y[2].length;
	cd_cnt[3]=cd_y[3].length;
	cd_cnt[4]=cd_y[4].length;
	cd_cnt[5]=cd_y[5].length;
	cd_cnt[6]=cd_y[6].length;


	for(i=0;i<22;i++){
		Tmp[i]	= Math.floor(Math.random() * 50);
		Rt[i]	= Math.floor(Math.random() * 250);

		var i2=i % 7;
		var i3=Math.floor(i/7)*3;
		Tmp_X=cd_x[i2][Tmp[i]]+i3;			
		Tmp_Y=cd_y[i2][Tmp[i]]+i3;			
		$('#c'+i).css({'top':Tmp_X+'px','left':Tmp_Y+'px','transform':'rotate('+Rt[i]+'deg)'});
	}


	$('.hand').draggable({
		drag: function( event, ui ) {
			for(var N=0;N<22;N++){
				Tmp[N]+=N%2+1;
				if(Tmp[N]>cd_cnt[N]){
					Tmp[N]=0;
				}

				Rt[N]-=N%3+1;
				if(Rt[N]<-359){
					Rt[N]=0;
				}

				var N2=N % 7;
				var N3=Math.floor(N/7)*3;
				Tmp_X=cd_x[N2][Tmp[N2]]+N3;			
				Tmp_Y=cd_y[N2][Tmp[N2]]+N3;			
				 $('#c'+N).css({'top':Tmp_X+'px','left':Tmp_Y+'px','transform':'rotate('+Rt[N]+'deg)'});
			}
		},
		stop: function( event, ui ) {
			 $('.hand').fadeOut(1000);
			 $('.card_bk').animate({'top':'300px','left':'10px'},300).css({'transform':'rotate(0deg)'});
			for(var N=0;ã€€N < 22;N++){
			Tmp_a=430-N*20;
			Tmp_b=500+N*50;
				 $('#c'+N).delay(Tmp_b).animate({'left':Tmp_a+'px'},500).addClass('card_sel');
			}
				 $('.guard').delay(2000).fadeOut(0);
		},
    });

	$('.hand').hover(function(){
		 $(this).css({'color':'#0000d0'});
	});

	$('.hand').mouseout(function(){
		 $(this).animate({'color':'#d0a060'},200);
	});

	$('.card_bk').hover(function(){
		 $(this).stop(false,true).animate({'top':'290px'},200);
	});

	$('.card_bk').mouseout(function(){
		 $(this).stop(false,true).animate({'top':'300px'},0);
	});
});
